<p-table
  class="table"
  [value]="tableData ? tableData.data : []"
  styleClass="p-datatable-gridlines"
  [tableStyle]="{ 'min-width': '50rem' }"
  [scrollable]="true"
  scrollDirection="both"
  [paginator]="tableData ? true : false"
  [rows]="10"
>
  <ng-template pTemplate="caption"> Header </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th>Department</th>
      <th>Employee Code</th>
      <th>Employee Name</th>
      @for (item of getDateList();let i = $index; track i) {
      <th>
        <tr rowspan="2">
          {{
            item.date
          }}
        </tr>
        <tr rowspan="2" class="day-hours-cell">
          <th colspan="1">Day</th>
          <th colspan="1">Hours</th>
        </tr>
      </th>
      } @empty {
      <th>Date</th>
      }
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-data>
    <tr>
      <td>{{ data?.department }}</td>
      <td>{{ data?.employeeCode }}</td>
      <td>{{ data?.employeeName }}</td>
      @for (item of getDayAndDuration(data?.dateList);let i = $index; track i) {
      <td colspan="1" class="day-hours-cell">
        <tr>
          <td>{{ item.day }}</td>
          <td>{{ item.duration }}</td>
        </tr>
      </td>
      }
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td>Please upload the attendance sheet in xlsx or csv format.</td>
    </tr>
  </ng-template>
</p-table>
